import{a,r as e,c as s,w as l,S as t,o,b as c,d as n,e as u,f as i,n as r,t as d,g as f,u as p,h as _,i as m,j as v}from"./index-D1L9_iKf.js";import{_ as g}from"./shetou.qP5zUlIe.js";import{_ as h,a as b,b as y}from"./_plugin-vue_export-helper.C_74TqPX.js";import{_ as x}from"./advice.C3NPA70E.js";const k=""+new URL("cancer-zhengzhuang-ch-1Ti5u.jpg",import.meta.url).href,j="http://192.168.43.42:5173/",C=h({__name:"CancerPage",setup(h){const C=["#c2e9fb","#f5efef","#d8fee1"],T=["#4481eb","#ed6ea0","#6fe186"],z=a({bac:"#c2e9fb",text:"#4481eb"}),F=e(!1),w=e(!1),P=e(!1),q=e(""),E=e(""),G=e(""),I=a({analyse:[],problem:""}),L=e(!1);function R(){L.value=!0,f({count:1,success:a=>{const e=a.tempFilePaths[0];console.log(e),p({url:j+"getpictures_cancer",filePath:e,name:"file",success:a=>{console.log("上传成功:",a),G.value=a.data,L.value=!1,P.value=!0,q.value=j+"shot_cancer/"+G.value},fail:a=>{console.log("上传失败:",a)}})}})}return(a,e)=>{const f=m,p=v,h=t;return o(),s(h,{class:"container","scroll-y":"true"},{default:l((()=>[w.value?u("",!0):(o(),s(f,{key:0,class:"photo-section"},{default:l((()=>[c(f,{class:"top-section",style:{paddingTop:"50px"}}),c(f,{class:"take-photo"},{default:l((()=>[P.value||L.value?u("",!0):(o(),s(f,{key:0,class:"photo-icon"},{default:l((()=>[c(p,{class:"kouqiang-icon",src:g}),c(f,{class:"paizhao-secion"},{default:l((()=>[c(f,{class:"paizhao-button",onClick:e[0]||(e[0]=a=>R())},{default:l((()=>[c(p,{class:"camera-icon",src:b}),c(f,null,{default:l((()=>[n("开始上传")])),_:1})])),_:1}),c(f,{class:"phone-text"},{default:l((()=>[n("请将摄像头按照对准口腔，确保拍摄角度与上图一致。")])),_:1})])),_:1})])),_:1})),L.value?(o(),s(f,{key:1,class:"loading1-container"},{default:l((()=>[i("div",{class:"loading1"},[i("div"),i("div"),i("div")]),c(f,null,{default:l((()=>[n("正在上传图片...")])),_:1})])),_:1})):u("",!0),!P.value||F.value||L.value?u("",!0):(o(),s(f,{key:2,class:"photo-result"},{default:l((()=>[c(p,{src:q.value,mode:"scaleToFill",class:"yachi"},null,8,["src"]),c(f,{class:"confirm-button-container"},{default:l((()=>[c(f,{class:"restart-button confirm-button",onClick:e[1]||(e[1]=a=>R())},{default:l((()=>[c(p,{class:"yes",src:b}),c(f,null,{default:l((()=>[n("重新上传")])),_:1})])),_:1}),c(f,{class:"confirm-button",onClick:e[2]||(e[2]=a=>(console.log("确认图片"),console.log(E.value),F.value=!0,void _({url:j+"confirm_shot_cancer/"+G.value,method:"GET",header:{"Content-Type":"application/json"},success:a=>{console.log(a),F.value=!1,I.analyse=a.data.message.analyse,I.problem=a.data.problem.message,"已得口腔癌"!==I.problem&&"有高风险得口腔癌"!==I.problem||(z.bac=C[1],z.text=T[1]),"有低风险得口腔癌"!==I.problem&&"口腔有溃疡"!==I.problem||(z.bac=C[0],z.text=T[0]),"口腔状态正常"===I.problem&&(z.bac=C[2],z.text=T[2]),w.value=!0},fail:a=>{console.error("请求失败",a)}})))},{default:l((()=>[c(p,{class:"yes",src:y}),c(f,null,{default:l((()=>[n("确认图片")])),_:1})])),_:1})])),_:1})])),_:1})),P.value&&F.value?(o(),s(f,{key:3,class:"loading-container"},{default:l((()=>[i("div",{class:"loading"}),c(f,null,{default:l((()=>[n("正在分析口腔癌风险...")])),_:1})])),_:1})):u("",!0)])),_:1})])),_:1})),w.value?(o(),s(f,{key:1,class:"analyse-section"},{default:l((()=>[c(f,{class:"top-section",style:{paddingTop:"30px"}}),c(f,{class:"photo-text"},{default:l((()=>[n("口腔癌风险监测")])),_:1}),c(f,{class:"photo"},{default:l((()=>[c(f,{class:"picture-container"},{default:l((()=>[c(p,{class:"picture",src:q.value,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1}),c(f,{class:"fangan-container"},{default:l((()=>[c(f,{class:"fangan-content"},{default:l((()=>[c(f,{class:"fangan-title"},{default:l((()=>[c(p,{src:x,mode:"scaleToFill",class:"advice-picture"}),n(" 监测结果 ")])),_:1}),c(f,{class:"fangan-list"},{default:l((()=>[c(f,{class:"fangan-item"},{default:l((()=>[c(f,{class:"dot dot1",style:r({backgroundColor:z.text})},null,8,["style"]),c(f,{class:"text-section-1",style:r({color:z.text,backgroundColor:z.bac})},{default:l((()=>[n(d(I.problem),1)])),_:1},8,["style"])])),_:1})])),_:1}),c(f,{class:"jiesaho"},{default:l((()=>[c(f,{class:"disease-title"},{default:l((()=>[n("可能症状")])),_:1}),c(p,{class:"jieshao-img",src:k}),c(f,{class:"jieshao-text"},{default:l((()=>[n("口腔癌是发生在口腔的恶性肿瘤之总称，大部分属于鳞状上皮细胞癌，即所谓的黏膜发生变异。在临床实践中口腔癌包括牙龈癌、舌癌、软硬腭癌、颌骨癌、口底癌、口咽癌、涎腺癌、唇癌、和上颌窦癌以及发生于颜面部皮肤黏膜的癌症等。口腔癌是头颈部较常见的恶性肿瘤之一。")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-87afffc3"]]);export{C as default};
