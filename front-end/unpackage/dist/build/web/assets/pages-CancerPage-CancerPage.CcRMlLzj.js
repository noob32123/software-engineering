import{a,r as e,c as l,w as s,S as t,o as c,b as o,d as n,e as u,f as r,n as i,t as d,g as f,h as p,F as _,i as h,j as m,k as g}from"./index-Czds8fzW.js";import{_ as v}from"./shetou.qP5zUlIe.js";import{_ as b,a as y}from"./_plugin-vue_export-helper.Cio2fkwX.js";import{_ as k,a as x,b as j}from"./oral.Jn1c4I4w.js";const T=""+new URL("cancer-zhengzhuang-ch-1Ti5u.jpg",import.meta.url).href,C="http://192.168.234.36:5000/",z=b({__name:"CancerPage",setup(b){const z=["#c2e9fb","#f5efef","#d8fee1"],F=["#4481eb","#ed6ea0","#6fe186"],w=a({bac:"#c2e9fb",text:"#4481eb"}),E=e(!1),G=e(!1),$=e(!1),q=e(""),I=e(""),L=a({analyse:[],problem:""}),P=e(!1);function R(){console.log("开始请求"),P.value=!0,h({url:C+"prepare_cancer",method:"GET",header:{"Content-Type":"application/json"},success:a=>{P.value=!1,I.value=a.data.message,console.log(I.value),q.value=`http://192.168.234.36:5000/shot_cancer/${I.value}`,$.value=!0},fail:a=>{console.error("请求失败",a)}})}return(a,e)=>{const b=m,C=g,S=t;return c(),l(S,{class:"container","scroll-y":"true"},{default:s((()=>[G.value?u("",!0):(c(),l(b,{key:0,class:"photo-section"},{default:s((()=>[o(b,{class:"top-section",style:{paddingTop:"50px"}}),o(b,{class:"take-photo"},{default:s((()=>[$.value||P.value?u("",!0):(c(),l(b,{key:0,class:"photo-icon"},{default:s((()=>[o(C,{class:"kouqiang-icon",src:v}),o(b,{class:"paizhao-secion"},{default:s((()=>[o(b,{class:"paizhao-button",onClick:e[0]||(e[0]=a=>R())},{default:s((()=>[o(C,{class:"camera-icon",src:y}),o(b,null,{default:s((()=>[n("开始拍照")])),_:1})])),_:1}),o(b,{class:"phone-text"},{default:s((()=>[n("请将摄像头按照对准口腔，确保拍摄角度与上图一致。")])),_:1})])),_:1})])),_:1})),P.value?(c(),l(b,{key:1,class:"loading1-container"},{default:s((()=>[r("div",{class:"loading1"},[r("div"),r("div"),r("div")]),o(b,null,{default:s((()=>[n("正在调用拍摄模块...")])),_:1})])),_:1})):u("",!0),!$.value||E.value||P.value?u("",!0):(c(),l(b,{key:2,class:"photo-result"},{default:s((()=>[o(C,{src:q.value,mode:"scaleToFill",class:"yachi"},null,8,["src"]),o(b,{class:"confirm-button-container"},{default:s((()=>[o(b,{class:"restart-button confirm-button",onClick:e[1]||(e[1]=a=>R())},{default:s((()=>[o(C,{class:"yes",src:y}),o(b,null,{default:s((()=>[n("重新拍摄")])),_:1})])),_:1}),o(b,{class:"confirm-button",onClick:e[2]||(e[2]=a=>(console.log("确认图片"),console.log(I.value),E.value=!0,void h({url:`http://192.168.234.36:5000/confirm_shot_cancer/${I.value}`,method:"GET",header:{"Content-Type":"application/json"},success:a=>{console.log(a),E.value=!1,L.analyse=a.data.message.analyse,L.problem=a.data.problem.message,"已得口腔癌"!==L.problem&&"有高风险得口腔癌"!==L.problem||(w.bac=z[1],w.text=F[1]),"有低风险得口腔癌"!==L.problem&&"口腔有溃疡"!==L.problem||(w.bac=z[0],w.text=F[0]),"口腔状态正常"===L.problem&&(w.bac=z[2],w.text=F[2]),G.value=!0},fail:a=>{console.error("请求失败",a)}})))},{default:s((()=>[o(C,{class:"yes",src:k}),o(b,null,{default:s((()=>[n("确认图片")])),_:1})])),_:1})])),_:1})])),_:1})),$.value&&E.value?(c(),l(b,{key:3,class:"loading-container"},{default:s((()=>[r("div",{class:"loading"}),o(b,null,{default:s((()=>[n("正在分析口腔癌风险...")])),_:1})])),_:1})):u("",!0)])),_:1})])),_:1})),G.value?(c(),l(b,{key:1,class:"analyse-section"},{default:s((()=>[o(b,{class:"top-section",style:{paddingTop:"30px"}}),o(b,{class:"photo-text"},{default:s((()=>[n("口腔癌风险监测")])),_:1}),o(b,{class:"photo"},{default:s((()=>[o(b,{class:"picture-container"},{default:s((()=>[o(C,{class:"picture",src:q.value,mode:"widthFix"},null,8,["src"])])),_:1})])),_:1}),o(b,{class:"fangan-container"},{default:s((()=>[o(b,{class:"fangan-content"},{default:s((()=>[o(b,{class:"fangan-title"},{default:s((()=>[o(C,{src:x,mode:"scaleToFill",class:"advice-picture"}),n(" 监测结果 ")])),_:1}),o(b,{class:"fangan-list"},{default:s((()=>[o(b,{class:"fangan-item"},{default:s((()=>[o(b,{class:"dot dot1",style:i({backgroundColor:w.text})},null,8,["style"]),o(b,{class:"text-section-1",style:i({color:w.text,backgroundColor:w.bac})},{default:s((()=>[n(d(L.problem),1)])),_:1},8,["style"])])),_:1})])),_:1}),o(b,{class:"jiesaho"},{default:s((()=>[o(b,{class:"disease-title"},{default:s((()=>[n("可能症状")])),_:1}),o(C,{class:"jieshao-img",src:T}),o(b,{class:"jieshao-text"},{default:s((()=>[n("口腔癌是发生在口腔的恶性肿瘤之总称，大部分属于鳞状上皮细胞癌，即所谓的黏膜发生变异。在临床实践中口腔癌包括牙龈癌、舌癌、软硬腭癌、颌骨癌、口底癌、口咽癌、涎腺癌、唇癌、和上颌窦癌以及发生于颜面部皮肤黏膜的癌症等。口腔癌是头颈部较常见的恶性肿瘤之一。")])),_:1})])),_:1})])),_:1})])),_:1}),o(b,{class:"zhuangkuang-container"},{default:s((()=>[o(b,{class:"health"},{default:s((()=>[o(b,{class:"zhuangkuang"},{default:s((()=>[o(C,{src:j,mode:"scaleToFill",class:"yachi-picture"}),n(" 口腔健康建议 ")])),_:1}),(c(!0),f(_,null,p(L.analyse,(a=>(c(),l(b,{class:"content"},{default:s((()=>[o(b,{class:"fu-title"},{default:s((()=>[n(d(a.title),1)])),_:2},1024),o(b,{class:"yinshi"},{default:s((()=>[(c(!0),f(_,null,p(a.content,(a=>(c(),l(b,{class:"fu-content"},{default:s((()=>[n(d(a),1)])),_:2},1024)))),256))])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-c60cb90c"]]);export{z as default};
